{
    "version": "20260210",
    "description": "A fully packaged, easy-to-use version of mpv (Lazy Pack)",
    "homepage": "https://github.com/hooke007/mpv_PlayKit",
    "license": "GPL-2.0-only",
    "architecture": {
        "64bit": {
            "url": [
                "https://github.com/hooke007/mpv_PlayKit/releases/download/20260210/mpv-lazy-20260210-noVS.7z",
                "https://github.com/hooke007/mpv_PlayKit/releases/download/20260210/mpv-lazy-20260210-vsNV.7z.001",
                "https://github.com/hooke007/mpv_PlayKit/releases/download/20260210/mpv-lazy-20260210-vsNV.7z.002"
            ],
            "hash": [
                "be7898cac9e6c3012c13e9efcd525edfeedf4849e0e325dc895e8d51c0b2f841",
                "a48d8d199dee0295a5507108988eafa7a94cb85ecfa0287d8b862a7ba3d80a37",
                "99a51b99b5050d6cdf1557a7433c6fd243f25ff5733a0dbc6f5c4d7c5e998ab7"
            ],
            "extract_dir": "mpv-lazy"
        }
    },
    "persist": [
        "portable_config/script-opts.conf",
        "portable_config/profiles.conf",
        "portable_config/mpv.conf",
        "portable_config/input_uosc.conf"
    ],
    "bin": "mpv.exe",
    "shortcuts": [
        [
            "mpv.exe",
            "MPV"
        ]
    ],
    "checkver": {
        "script": [
            "$releases = Invoke-RestMethod 'https://api.github.com/repos/hooke007/mpv_PlayKit/releases?per_page=100'",
            "$stable = $releases | Where-Object { -not $_.draft -and -not $_.prerelease }",
            "$noVsTag = $null",
            "$vsNvTag = $null",
            "foreach ($r in $stable) {",
            "    $tag = $r.tag_name",
            "    $names = @($r.assets | ForEach-Object { $_.name })",
            "    if (-not $noVsTag -and ($names -contains \"mpv-lazy-$tag-noVS.7z\")) { $noVsTag = $tag }",
            "    if (-not $vsNvTag -and ($names -contains \"mpv-lazy-$tag-vsNV.7z.001\") -and ($names -contains \"mpv-lazy-$tag-vsNV.7z.002\")) { $vsNvTag = $tag }",
            "    if ($noVsTag -and $vsNvTag) { break }",
            "}",
            "if (-not $noVsTag) { throw 'No noVS release found.' }",
            "if (-not $vsNvTag) { throw 'No vsNV 2-part release found.' }",
            "\"$noVsTag|$vsNvTag\""
        ],
        "regex": "(?<version>[\\d.]+)\\|(?<vsnv>[\\d.]+)",
        "replace": "${version}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": [
                    "https://github.com/hooke007/mpv_PlayKit/releases/download/$version/mpv-lazy-$version-noVS.7z",
                    "https://github.com/hooke007/mpv_PlayKit/releases/download/$matchVsnv/mpv-lazy-$matchVsnv-vsNV.7z.001",
                    "https://github.com/hooke007/mpv_PlayKit/releases/download/$matchVsnv/mpv-lazy-$matchVsnv-vsNV.7z.002"
                ]
            }
        }
    }
}

